PLANO DE CORREÃ‡ÃƒO - Sistema de AnÃ¡lise de Requisitos                                                              â”‚
     â”‚                                                                                                                   â”‚
     â”‚ PROBLEMAS IDENTIFICADOS                                                                                           â”‚
     â”‚                                                                                                                   â”‚
     â”‚ ðŸ”´ PROBLEMA 1: Task analyze_document ignora conteÃºdo jÃ¡ extraÃ­do                                                  â”‚
     â”‚                                                                                                                   â”‚
     â”‚ - Causa: YAML pede para usar ferramenta document_reader, mas document_content jÃ¡ foi extraÃ­do no documents.py:105 â”‚
     â”‚ - Impacto: Agente tenta re-extrair ao invÃ©s de usar o conteÃºdo passado                                            â”‚
     â”‚ - LocalizaÃ§Ã£o: backend/config/langnet_tasks.yaml:10-14                                                            â”‚
     â”‚                                                                                                                   â”‚
     â”‚ ðŸ”´ PROBLEMA 2: Pesquisa web sem filtro geogrÃ¡fico/idioma                                                          â”‚
     â”‚                                                                                                                   â”‚
     â”‚ - Causa: SerperSearchTool nÃ£o passa parÃ¢metros gl (paÃ­s) e hl (idioma) para API                                   â”‚
     â”‚ - Impacto: Retorna resultados americanos/ingleses ao invÃ©s de brasileiros/portuguÃªs                               â”‚
     â”‚ - LocalizaÃ§Ã£o: backend/agents/langnettools.py:350-352                                                             â”‚
     â”‚                                                                                                                   â”‚
     â”‚ ðŸ”´ PROBLEMA 3: Task research_additional_info nÃ£o instrui busca brasileira                                         â”‚
     â”‚                                                                                                                   â”‚
     â”‚ - Causa: YAML nÃ£o enfatiza contexto brasileiro nas queries                                                        â”‚
     â”‚ - Impacto: Agente busca termos genÃ©ricos que retornam fontes americanas                                           â”‚
     â”‚ - LocalizaÃ§Ã£o: backend/config/langnet_tasks.yaml:177-310                                                          â”‚
     â”‚                                                                                                                   â”‚
     â”‚ CORREÃ‡Ã•ES PROPOSTAS                                                                                               â”‚
     â”‚                                                                                                                   â”‚
     â”‚ CORREÃ‡ÃƒO 1: Reescrever task analyze_document                                                                      â”‚
     â”‚                                                                                                                   â”‚
     â”‚ Arquivo: backend/config/langnet_tasks.yaml linhas 5-47                                                            â”‚
     â”‚                                                                                                                   â”‚
     â”‚ MudanÃ§a:                                                                                                          â”‚
     â”‚ - âŒ REMOVER: InstruÃ§Ãµes para usar document_reader tool                                                           â”‚
     â”‚ - âœ… ADICIONAR: Instruir para processar {document_content} que JÃ FOI EXTRAÃDO                                    â”‚
     â”‚ - âœ… ADICIONAR: ValidaÃ§Ã£o se document_content nÃ£o estÃ¡ vazio                                                      â”‚
     â”‚                                                                                                                   â”‚
     â”‚ Nova descriÃ§Ã£o:                                                                                                   â”‚
     â”‚ analyze_document:                                                                                                 â”‚
     â”‚   description: >                                                                                                  â”‚
     â”‚     [Document Content Analysis] You have received PRE-EXTRACTED document content.                                 â”‚
     â”‚                                                                                                                   â”‚
     â”‚     YOU WILL RECEIVE:                                                                                             â”‚
     â”‚     - document_content: {document_content} (COMPLETE TEXT already extracted from ALL uploaded documents)          â”‚
     â”‚     - document_path: {document_path} (reference only)                                                             â”‚
     â”‚     - additional_instructions: {additional_instructions}                                                          â”‚
     â”‚                                                                                                                   â”‚
     â”‚     CRITICAL: The document content has ALREADY BEEN EXTRACTED for you.                                            â”‚
     â”‚     DO NOT try to read files - work with the provided text.                                                       â”‚
     â”‚                                                                                                                   â”‚
     â”‚     STEP 0 - VALIDATE INPUT:                                                                                      â”‚
     â”‚     - Check if document_content is not empty (minimum 100 words)                                                  â”‚
     â”‚     - If empty or too short, STOP and return ERROR                                                                â”‚
     â”‚                                                                                                                   â”‚
     â”‚     STEP 1 - READ ENTIRE CONTENT:                                                                                 â”‚
     â”‚     - Read ALL the document_content provided                                                                      â”‚
     â”‚     - Identify what type of content it is (interview, requirements doc, technical spec, etc.)                     â”‚
     â”‚     - Understand the domain/industry from the content itself                                                      â”‚
     â”‚                                                                                                                   â”‚
     â”‚     STEP 2 - EXTRACT KEY INFORMATION:                                                                             â”‚
     â”‚     From the ACTUAL TEXT in document_content, extract:                                                            â”‚
     â”‚     (1) ACTORS: People, roles, companies mentioned (names, positions, responsibilities)                           â”‚
     â”‚     (2) BUSINESS CONTEXT: Company description, industry, market, geography                                        â”‚
     â”‚     (3) PAIN POINTS: Current problems, challenges, bottlenecks explicitly mentioned                               â”‚
     â”‚     (4) CURRENT PROCESS: How things are done today (tools, workflows, team size)                                  â”‚
     â”‚     (5) DESIRED SOLUTION: What they want the system to do                                                         â”‚
     â”‚     (6) DOMAIN CONCEPTS: Technical terms, jargon, business rules, data entities                                   â”‚
     â”‚     (7) CONSTRAINTS: Regulations, compliance, technical limitations mentioned                                     â”‚
     â”‚     (8) METRICS: Numbers, volumes, performance data mentioned                                                     â”‚
     â”‚                                                                                                                   â”‚
     â”‚     STEP 3 - STRUCTURE ANALYSIS:                                                                                  â”‚
     â”‚     - Identify document structure (sections, headings)                                                            â”‚
     â”‚     - Map relationships between concepts                                                                          â”‚
     â”‚     - Note workflows/processes described                                                                          â”‚
     â”‚                                                                                                                   â”‚
     â”‚     IMPORTANT:                                                                                                    â”‚
     â”‚     - Extract VERBATIM quotes from document_content as evidence                                                   â”‚
     â”‚     - DO NOT invent or assume information not in the text                                                         â”‚
     â”‚     - If multiple documents concatenated, process ALL of them                                                     â”‚
     â”‚     - Pay special attention to QUANTITATIVE data (numbers, volumes, percentages)                                  â”‚
     â”‚                                                                                                                   â”‚
     â”‚ CORREÃ‡ÃƒO 2: Adicionar filtros geogrÃ¡ficos ao SerperSearchTool                                                     â”‚
     â”‚                                                                                                                   â”‚
     â”‚ Arquivo: backend/agents/langnettools.py linha 350-353                                                             â”‚
     â”‚                                                                                                                   â”‚
     â”‚ MudanÃ§a:                                                                                                          â”‚
     â”‚ # ANTES:                                                                                                          â”‚
     â”‚ payload = json.dumps({                                                                                            â”‚
     â”‚     "q": query,                                                                                                   â”‚
     â”‚     "num": num_results                                                                                            â”‚
     â”‚ })                                                                                                                â”‚
     â”‚                                                                                                                   â”‚
     â”‚ # DEPOIS:                                                                                                         â”‚
     â”‚ payload = json.dumps({                                                                                            â”‚
     â”‚     "q": query,                                                                                                   â”‚
     â”‚     "num": num_results,                                                                                           â”‚
     â”‚     "gl": "br",  # GeolocalizaÃ§Ã£o: Brasil                                                                         â”‚
     â”‚     "hl": "pt"   # Idioma: PortuguÃªs                                                                              â”‚
     â”‚ })                                                                                                                â”‚
     â”‚                                                                                                                   â”‚
     â”‚ CORREÃ‡ÃƒO 3: Reescrever task research_additional_info com contexto brasileiro                                      â”‚
     â”‚                                                                                                                   â”‚
     â”‚ Arquivo: backend/config/langnet_tasks.yaml linhas 177-310                                                         â”‚
     â”‚                                                                                                                   â”‚
     â”‚ Adicionar apÃ³s STEP 2:                                                                                            â”‚
     â”‚     STEP 2.1 - CONTEXTUALIZE FOR BRAZIL:                                                                          â”‚
     â”‚     If the domain relates to Brazilian business/regulations, PRIORITIZE Brazilian sources:                        â”‚
     â”‚     - For procurement/licitaÃ§Ãµes: Add "brasil" or "Lei 14.133" or "PNCP" to queries                               â”‚
     â”‚     - For healthcare/lab products: Add "ANVISA" or "brasil" to queries                                            â”‚
     â”‚     - For compliance: Search "LGPD" instead of "GDPR" if data protection is relevant                              â”‚
     â”‚     - Use Portuguese terms when appropriate                                                                       â”‚
     â”‚                                                                                                                   â”‚
     â”‚     Examples of GOOD Brazilian queries:                                                                           â”‚
     â”‚     - "Lei 14.133/2021 licitaÃ§Ãµes pÃºblicas"                                                                       â”‚
     â”‚     - "PNCP portal nacional contrataÃ§Ãµes"                                                                         â”‚
     â”‚     - "ANVISA registro produtos laboratÃ³rio"                                                                      â”‚
     â”‚     - "LGPD compliance requisitos"                                                                                â”‚
     â”‚     - "BLL bolsa licitaÃ§Ãµes Brasil"                                                                               â”‚
     â”‚                                                                                                                   â”‚
     â”‚     Examples of BAD generic queries:                                                                              â”‚
     â”‚     - "public procurement best practices" (too generic, will return US results)                                   â”‚
     â”‚     - "FDA requirements" (wrong country - use ANVISA for Brazil)                                                  â”‚
     â”‚     - "FAR compliance" (US regulation - use Lei 14.133 for Brazil)                                                â”‚
     â”‚                                                                                                                   â”‚
     â”‚ CORREÃ‡ÃƒO 4: Reescrever task extract_requirements com Ãªnfase no conteÃºdo                                           â”‚
     â”‚                                                                                                                   â”‚
     â”‚ Arquivo: backend/config/langnet_tasks.yaml linhas 49-173                                                          â”‚
     â”‚                                                                                                                   â”‚
     â”‚ Adicionar apÃ³s STEP 1:                                                                                            â”‚
     â”‚     STEP 1.1 - PRIORITIZE DOCUMENT CONTENT OVER INSTRUCTIONS:                                                     â”‚
     â”‚     - The document_content is PRIMARY source of truth                                                             â”‚
     â”‚     - The additional_instructions are SECONDARY (just context/goals)                                              â”‚
     â”‚     - If document mentions specific:                                                                              â”‚
     â”‚       * Numbers (e.g., "10,000 registros") â†’ create requirement for that volume                                   â”‚
     â”‚       * Tools (e.g., "Com LicitaÃ§Ã£o") â†’ create integration requirement                                            â”‚
     â”‚       * People/roles (e.g., "equipe de 2-3 pessoas") â†’ create usability requirement                               â”‚
     â”‚       * Processes (e.g., "busca manual individual") â†’ create automation requirement                               â”‚
     â”‚       * Pain points (e.g., "perdemos mais do que ganhamos") â†’ create solution requirement                         â”‚
     â”‚                                                                                                                   â”‚
     â”‚     STEP 1.2 - INFER IMPLICIT REQUIREMENTS:                                                                       â”‚
     â”‚     Based on what is mentioned in documents, infer necessary technical requirements:                              â”‚
     â”‚     - If large data volume mentioned â†’ scalability/performance requirements                                       â”‚
     â”‚     - If multiple users mentioned â†’ authentication/authorization requirements                                     â”‚
     â”‚     - If sensitive data â†’ security/encryption requirements                                                        â”‚
     â”‚     - If regulatory compliance mentioned â†’ audit trail requirements                                               â”‚
     â”‚     - If integration with external systems â†’ API requirements                                                     â”‚
     â”‚                                                                                                                   â”‚
     â”‚ CORREÃ‡ÃƒO 5: Melhorar validaÃ§Ã£o em validate_requirements                                                           â”‚
     â”‚                                                                                                                   â”‚
     â”‚ Arquivo: backend/config/langnet_tasks.yaml linhas 312-430                                                         â”‚
     â”‚                                                                                                                   â”‚
     â”‚ Adicionar antes de STEP 4:                                                                                        â”‚
     â”‚     STEP 3.5 - VALIDATE AGAINST SOURCE DOCUMENTS:                                                                 â”‚
     â”‚     Before generating final document, verify:                                                                     â”‚
     â”‚     - Every major concept from document_content is covered by requirements                                        â”‚
     â”‚     - Quantitative data from documents is reflected (volumes, team size, etc.)                                    â”‚
     â”‚     - Specific tools/systems mentioned have integration requirements                                              â”‚
     â”‚     - Pain points identified have solution requirements                                                           â”‚
     â”‚     - Domain is correctly identified from content (not assumed)                                                   â”‚
     â”‚                                                                                                                   â”‚
     â”‚     RED FLAGS (means requirements are too generic):                                                               â”‚
     â”‚     - No mention of specific company/actors from documents                                                        â”‚
     â”‚     - No requirements related to volumes/metrics mentioned in documents                                           â”‚
     â”‚     - Generic entities (User, Admin) instead of actual roles from documents                                       â”‚
     â”‚     - Rastreability points to non-existent documents                                                              â”‚
     â”‚                                                                                                                   â”‚
     â”‚ ORDEM DE EXECUÃ‡ÃƒO                                                                                                 â”‚
     â”‚                                                                                                                   â”‚
     â”‚ 1. âœ… Corrigir SerperSearchTool (adicionar filtros gl e hl)                                                       â”‚
     â”‚ 2. âœ… Reescrever task analyze_document (usar document_content, nÃ£o document_reader)                               â”‚
     â”‚ 3. âœ… Reescrever task research_additional_info (adicionar contexto brasileiro)                                    â”‚
     â”‚ 4. âœ… Reescrever task extract_requirements (priorizar conteÃºdo dos documentos)                                    â”‚
     â”‚ 5. âœ… Melhorar task validate_requirements (validar contra fonte)                                                  â”‚
     â”‚ 6. âœ… Testar com documento real (resumo_Entrevista 251119 171944.pdf)                                             â”‚
     â”‚ 7. âœ… Validar que requisitos gerados refletem conteÃºdo do PDF                                                     â”‚
     â”‚                                                                                                                   â”‚
     â”‚ RESULTADO ESPERADO                                                                                                â”‚
     â”‚                                                                                                                   â”‚
     â”‚ ApÃ³s as correÃ§Ãµes, o sistema deve:                                                                                â”‚
     â”‚ - âœ… Analisar TODO o conteÃºdo dos PDFs extraÃ­do (8 pÃ¡ginas, milhares de palavras)                                 â”‚
     â”‚ - âœ… Identificar Farmac, 10.000 registros Anvisa, comodatos, Douglas, etc.                                        â”‚
     â”‚ - âœ… Gerar requisitos ESPECÃFICOS baseados no PDF (nÃ£o genÃ©ricos)                                                 â”‚
     â”‚ - âœ… Buscar fontes BRASILEIRAS (Lei 14.133, PNCP, ANVISA, LGPD)                                                   â”‚
     â”‚ - âœ… Inferir requisitos tÃ©cnicos necessÃ¡rios (escalabilidade, integraÃ§Ãµes, etc.)                                  â”‚
     â”‚ - âœ… Rastrear cada requisito para seÃ§Ã£o especÃ­fica do documento fonte                                             â”‚
     â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

> /context 
